<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>D3-Celestial AR Mode</title>
  <script type="text/javascript" src="../lib/d3.min.js"></script>
  <script type="text/javascript" src="../lib/d3.geo.projection.min.js"></script>
  <script type="text/javascript" src="../celestial.min.js"></script>
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>  <!-- A-Frame for AR -->
  <link rel="stylesheet" href="../celestial.css">
  <style>
    body { margin: 0; overflow: hidden; }
    #ar-button {
      position: absolute; top: 10px; right: 10px;
      padding: 10px 15px; font-size: 16px;
      background: #007bff; color: white; border: none;
      cursor: pointer; z-index: 10;
    }
  </style>
</head>

<body>
  <button id="ar-button">Enter AR Mode</button>  
  <div style="overflow:hidden;">
    <div id="celestial-map"></div>
  </div>
  <div id="celestial-form"></div>

  <!-- AR Scene (Hidden Initially) -->
  <a-scene embedded vr-mode-ui="enabled: false" id="ar-scene" style="display: none;">
    <a-sky src="space360.jpg"></a-sky>  <!-- Replace with a 360-star map -->
    <a-camera position="0 1.6 0">
      <a-cursor></a-cursor>
    </a-camera>
  </a-scene>

  <script type="text/javascript">
    var config = {
      width: 0,     
      projection: "airy",
      transform: "equatorial",
      background: { fill: "#000000", stroke: "#000000", opacity: 1 },
      adaptable: true,
      interactive: true,
      form: true,
      controls: true,
      lang: "en",  
      container: "celestial-map",   
      datapath: "../data/",  
      stars: { show: true, limit: 6, names: true },
      constellations: { show: true, names: true, desig: true }
    };

    Celestial.display(config);

    // Language Change Function
    function changeLanguage(lang) {
      config.lang = lang;
      Celestial.apply(config);
    }

    // AR Mode Toggle
    document.getElementById("ar-button").addEventListener("click", function() {
      document.getElementById("celestial-map").style.display = "none";
      document.getElementById("ar-scene").style.display = "block";
    });
  </script>
</body>
</html>
